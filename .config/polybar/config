[colors]
background   = ${xrdb:background}
bright-gray  = ${xrdb:color7:#7A7D7D}
foreground   = ${xrdb:foreground}
gray         = ${xrdb:color8:#424B54}
alert        = ${xrdb:color1:#BD632F}

[global/wm]
margin-top    = 0
margin-bottom = 0

[bar/base]
width  = 100%
height = 20
radius = 0.0
bottom = false
fixed-center = true
underline-size = 1
enable-ipc = true
background = ${colors.background}
foreground = ${colors.foreground}
border-size  = 0
border-color = ${colors.gray}
padding-left  = 1
padding-right = 1
module-margin = 1
separator = |
cursor-click = pointer
cursor-scroll = ns-resize
font-0 = Iosevka Nerd Font:weight=medium:size=10;2

[bar/main]
inherit = bar/base
modules-left = info-hlwm-workspaces
#modules-left = title
#modules-right = weather
modules-right = monitor notifications cpu memory pulseaudio battery network-networkmanager date time powermenu
#wm-restack = bspwm
tray-position = right
monitor = ${env:MONITOR:}

[settings]
screenchange-reload = true

[module/monitor]
type = internal/memory
#interval = 1
format-prefix = "MON: "
#format-prefix-foreground = #4bffdc
label = ${env:MONITOR:}

[module/title]
type = internal/xwindow
label-maxlen = 70

[module/notifications]
type = custom/script
tail = true
format-padding = 0
click-left = dunstctl set-paused toggle
exec = ~/.config/polybar/polybar-scripts/alert-icon.sh

[module/time]
type     = internal/date
interval = 5
time  = %H:%M
label = %time%

[module/date]
type     = internal/date
interval = 5
date  = %A, %b %d
label = %date%

[module/pulseaudio]
type = internal/pulseaudio
format-volume = <ramp-volume>  <label-volume>
format-volume-foreground = ${colors.foreground}
label-volume             = %percentage%%
format-muted-foreground = ${colors.alert}
label-muted =  OFF
ramp-volume-0 = 
ramp-volume-1 = 
ramp-volume-2 = 

[module/cpu]
type = internal/cpu
interval = 0.5
format = <label>
format-prefix = " "
format-prefix-font = 0
label = "%percentage:2%%"

[module/memory]
type = internal/memory
interval = 3
format = <label>
format-prefix = "  "
format-prefix-font = 0
label = %gb_used% (%percentage_used%%)

[module/battery]
type = internal/battery
full-at = 95
battery = BAT0
adapter = ADP1
poll-interval = 60
time-format = %H:%M
format-charging = <animation-charging> <label-charging>
format-charging-background =
label-charging = " %percentage%%"
format-discharging = <ramp-capacity> <label-discharging>
format-discharging-background =
format-discharging-foreground = ${colors.alert}
label-discharging = " %percentage%%"
format-full = <label-full>
format-full-prefix = " "
format-full-background =
label-full = " %percentage%%"
ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-4 = 
animation-charging-0 = 
animation-charging-1 = 
animation-charging-2 = 
animation-charging-3 = 
animation-charging-4 = 
animation-charging-framerate = 750

[module/info-hlwm-workspaces]
type = custom/script
exec = ~/.config/polybar/polybar-scripts/info-hlwm-workspaces.sh
tail = true
scroll-up = herbstclient use_index -1 --skip-visible &
scroll-down = herbstclient use_index +1 --skip-visible &

[module/network-networkmanager]
type = custom/script
exec = ~/.config/polybar/polybar-scripts/network-networkmanager.sh
tail = true
interval = 5s

[module/powermenu]
type = custom/menu

label-open =
label-open-foreground = ${colors.foreground}
label-open-background = ${colors.background}
label-open-padding = 1
label-close =
label-close-padding = 1
label-close-foreground = $[colors.foreground]
label-separator = " | "
label-separator-foreground = #666666

menu-0-0 =ﰇ
menu-0-0-exec = menu-open-1
menu-0-1 =
menu-0-1-exec = menu-open-2
menu-0-2 =
menu-0-2-exec = menu-open-3

menu-1-0 =ﰇ
menu-1-0-exec = systemctl reboot
menu-1-1 =
menu-1-1-exec = menu-open-0

menu-2-0 =
menu-2-0-exec = systemctl poweroff
menu-2-1 =
menu-2-1-exec = menu-open-0

menu-3-0 =
menu-3-0-exec = herbstclient quit
menu-3-1 =
menu-3-1-exec = menu-open-0
